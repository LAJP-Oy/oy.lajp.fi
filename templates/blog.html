{% extends "base.html" %}

{% block title %}{{ section.title }} - {{ config.title }}{% endblock title %}
{% block description %}{{ section.description | default(value=config.description) }}{% endblock description %}

{% block content %}
<div class="page-header">
    <div class="container container-narrow">
        <h1>{{ section.title }}</h1>
        {% if section.description %}
        <p class="lead">{{ section.description }}</p>
        {% endif %}
    </div>
</div>

<div class="page-content">
    <div class="container container-narrow">
        {% if section.pages %}
        <ul class="post-list">
            {% for page in section.pages %}
            <li class="post-item">
                <h2 class="post-title">
                    <a href="{{ page.permalink }}">{{ page.title }}</a>
                </h2>
                {% if page.date %}
                <div class="post-meta">
                    {{ trans(key="posted_on", lang=lang) }} {{ page.date | date(format="%B %d, %Y") }}
                </div>
                {% endif %}
                {% if page.description %}
                <p class="post-excerpt">{{ page.description }}</p>
                {% endif %}
                {% if page.taxonomies.tags %}
                <div class="post-tags">
                    {% for tag in page.taxonomies.tags %}
                    <a href="{{ config.base_url }}{% if lang == 'fi' %}/fi{% endif %}/tags/{{ tag | slugify }}/" class="tag">{{ tag }}</a>
                    {% endfor %}
                </div>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="text-center text-light">No posts yet.</p>
        {% endif %}

        {% if paginator %}
        <nav class="pagination mt-2xl">
            {% if paginator.previous %}
            <a href="{{ paginator.previous }}" class="btn btn-secondary btn-small">&larr; Newer</a>
            {% endif %}
            {% if paginator.next %}
            <a href="{{ paginator.next }}" class="btn btn-secondary btn-small">Older &rarr;</a>
            {% endif %}
        </nav>
        {% endif %}
    </div>
</div>
{% endblock content %}
